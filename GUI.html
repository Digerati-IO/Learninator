<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Learninator</title>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/styles.css">

    <script type="text/javascript">

        /**
         * Global world object
         * @type {World}
         */
        var stage = stage || {},
                resizable = false,
                renderer = renderer || {},
                theme = 'space',
                width = 600,
                height = 600,
                rendererOptions = {
                    antialiasing: false,
                    transparent: false,
                    resolution: window.devicePixelRatio,
                    autoResize: true
                },
                shadowGuiObj = {
                    id: 'mainShadow',
                    draggable: true,
                    component: 'Window',
                    skin: 'ShadowRoundWindow',
                    position: {x: 20, y: 20},
                    width: 400,
                    height: 400,
                    z: 1,
                    header: {
                        id: 'titleShadow',
                        component: 'Header',
                        skin: 'ShadowHeader',
                        text: 'Options',
                        position: {x: 5, y: 0},
                        width: 390,
                        height: 30
                    },
                    layout: [1, 1],
                    children: [{
                        id: 'inputSamples',
                        component: 'Layout',
                        skin: 'ShadowLayout',
                        position: {x: 0, y: 0},
                        width: 380,
                        height: 360,
                        layout: [2, 5],
                        children: [{
                            id: 'chk1',
                            text: 'Checkbox #1',
                            component: 'Checkbox',
                            skin: 'ShadowCheckbox',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'radio1',
                            text: 'Radio #1',
                            component: 'Radio',
                            skin: 'ShadowRadio',
                            group: 'odd',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'chk2',
                            text: 'Checkbox #2',
                            component: 'Checkbox',
                            skin: 'ShadowCheckbox',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'radio2',
                            text: 'Radio #2',
                            component: 'Radio',
                            skin: 'ShadowRadio',
                            group: 'odd',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'text1',
                            component: 'Input',
                            skin: 'ShadowInput',
                            text: 'input here',
                            position: {x: 0, y: 0},
                            width: 150,
                            height: 29
                        }, {
                            id: 'btnDone',
                            component: 'Button',
                            skin: 'ShadowButton',
                            text: 'Done',
                            position: {x: 0, y: 0},
                            width: 75,
                            height: 29,
                            font: {
                                color: 'white'
                            }
                        }, {
                            id: 'mySlider',
                            component: 'Slider',
                            position: {x: 0, y: 0},
                            slide: {
                                component: 'Slide',
                                width: 10,
                                height: 10
                            },
                            width: 150,
                            height: 5

                        }, {
                            id: 'myLabel',
                            text: 'none',
                            component: 'Label',
                            position: {x: 0, y: 0},
                            width: 120,
                            height: 29
                        }, {
                            id: 'btnCancelShadow',
                            component: 'Button',
                            skin: 'ShadowButton',
                            text: 'Cancel',
                            position: {x: 0, y: 0},
                            width: 100,
                            height: 29,
                            font: {
                                color: 'white'
                            }
                        }, {
                            id: 'btnSaveShadow',
                            component: 'Button',
                            skin: 'ShadowButton',
                            text: 'Save',
                            position: {x: 0, y: 0},
                            width: 100,
                            height: 29,
                            font: {
                                color: 'white'
                            }
                        }]
                    }]
                },
                glassGuiObj = {
                    id: 'mainGlass',
                    draggable: true,
                    component: 'Window',
                    skin: 'GlassWindow',
                    position: {x: 20, y: 20},
                    width: 400,
                    height: 400,
                    z: 1,
                    header: {
                        id: 'titleGlass',
                        component: 'Header',
                        skin: 'GlassHeader',
                        text: 'Options',
                        position: {x: 5, y: 0},
                        width: 390,
                        height: 30
                    },
                    layout: [1, 1],
                    children: [{
                        id: 'inputSamples',
                        component: 'Layout',
                        skin: 'GlassLayout',
                        position: {x: 0, y: 0},
                        width: 380,
                        height: 360,
                        layout: [2, 5],
                        children: [{
                            id: 'chk1',
                            text: 'Checkbox #1',
                            component: 'Checkbox',
                            skin: 'GlassCheckbox',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'radio1',
                            text: 'Radio #1',
                            component: 'Radio',
                            skin: 'GlassRadio',
                            group: 'odd',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'chk2',
                            text: 'Checkbox #2',
                            component: 'Checkbox',
                            skin: 'GlassCheckbox',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'radio2',
                            text: 'Radio #2',
                            component: 'Radio',
                            skin: 'GlassRadio',
                            group: 'odd',
                            position: {x: 0, y: 0},
                            width: 25,
                            height: 25
                        }, {
                            id: 'text1',
                            component: 'Input',
                            skin: 'GlassInput',
                            text: 'input here',
                            position: {x: 0, y: 0},
                            width: 150,
                            height: 29
                        }, {
                            id: 'btnDone',
                            component: 'Button',
                            skin: 'GlassButton',
                            text: 'Done',
                            position: {x: 0, y: 0},
                            width: 75,
                            height: 29
                        }, {
                            id: 'mySlider',
                            component: 'Slider',
                            position: {x: 0, y: 0},
                            slide: {
                                component: 'Slide',
                                width: 10,
                                height: 10
                            },
                            width: 150,
                            height: 5

                        }, {
                            id: 'myLabel',
                            component: 'Label',
                            text: 'none',
                            position: {x: 0, y: 0},
                            width: 120,
                            height: 29
                        }, {
                            id: 'btnCancelGlass',
                            component: 'Button',
                            skin: 'GlassButton',
                            text: 'Cancel',
                            position: {x: 0, y: 0},
                            width: 100,
                            height: 29
                        }, {
                            id: 'btnSaveGlass',
                            component: 'Button',
                            skin: 'GlassButton',
                            text: 'Save',
                            position: {x: 0, y: 0},
                            width: 100,
                            height: 29
                        }]
                    }]
                };

        function loadTheme() {
            PIXI.utils.textureCache = {};
            PIXI.utils.baseTextureCache = {};

            return EZGUI.Theme.load(['gui-themes/' + theme + '-theme/' + theme + '-theme.json'], function () {
                var shadowContainer = EZGUI.create(shadowGuiObj, theme);
                var glassContainer = EZGUI.create(glassGuiObj, theme);

                EZGUI.components.btnSaveGlass.on('click', function (event) {
                    glassContainer.visible = false;
                });
                EZGUI.components.btnCancelGlass.on('click', function (event) {
                    glassContainer.visible = false;
                });

                EZGUI.components.btnSaveShadow.on('click', function (event) {
                    shadowContainer.visible = false;
                });
                EZGUI.components.btnCancelShadow.on('click', function (event) {
                    shadowContainer.visible = false;
                });

                stage.addChild(shadowContainer);
                stage.addChild(glassContainer);
            });
        }

        function resize() {
            // Determine which screen dimension is most constrained
            var ratio = Math.min(window.innerWidth / width, window.innerHeight / height);

            // Scale the view appropriately to fill that dimension
            stage.scale.x = stage.scale.y = ratio;

            // Update the renderer dimensions
            renderer.resize(Math.ceil(width * ratio), Math.ceil(height * ratio));
        }

        function animate() {
            renderer.render(stage);
            requestAnimationFrame(animate);
        }

        function start() {
            // Create the canvas in which the game will show, and a
            // generic container for all the graphical objects
            renderer = PIXI.autoDetectRenderer(width, height, rendererOptions);
            renderer.backgroundColor = 0xCCDDFF;
            // Round the pixels
            //this.renderer.roundPixels = true;

            // Put the renderer on screen in the corner
            renderer.view.style.position = "absolute";
            renderer.view.style.top = "0px";
            renderer.view.style.left = "0px";

            // The stage is essentially a display list of all game objects
            // for Pixi to render; it's used in resize(), so it must exist
            stage = new PIXI.Container();

            // Actually place the renderer onto the page for display
            document.body.querySelector('.game-container').appendChild(renderer.view);
            if (resizable) {
                // Size the renderer to fill the screen
                resize();

                // Listen for and adapt to changes to the screen size, e.g.,
                // user changing the window or rotating their device
                window.addEventListener("resize", resize);
            }
            loadTheme();

            requestAnimationFrame(animate);
        }
    </script>
</head>
<body onload="start();">
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="game-container"></div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/3.0.8/pixi.js"></script>

<script src="js/lib/external/EZGUI.js"></script>

<link rel="import" href="/templates/twitch-nav.html">

</body>
</html>