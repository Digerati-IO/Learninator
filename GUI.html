<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Learninator</title>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/styles.css">

    <script type="text/javascript">

        /**
         * Global world object
         * @type {World}
         */
        var stage = stage || {},
                resizable = false,
                renderer = renderer || {},
                theme = 'space',
                width = 600,
                height = 600,
                rendererOptions = {
                    antialiasing: false,
                    transparent: false,
                    resolution: window.devicePixelRatio,
                    autoResize: true
                },
                avatarGuiObj = {
                    id: 'main',
                    draggable: true,
                    component: 'Window',
                    skin: 'ShadowRoundWindow',
                    position: {x: 20, y: 20},
                    width: 400,
                    height: 400,
                    z: 1,
                    header: {
                        id: 'title',
                        component: 'Header',
                        skin: 'ShadowHeader',
                        text: 'Options',
                        position: {x: 5, y: 0},
                        width: 390,
                        height: 30
                    },
                    layout: [1, 1],
                    children: [
                        {
                            id: 'inputSamples',
                            component: 'Layout',
                            skin: 'ShadowLayout',
                            position: {x: 0, y: 0},
                            width: 380,
                            height: 360,
                            layout: [2, 5],
                            children: [
                                {
                                    id: 'chk1',
                                    text: 'Checkbox #1',
                                    component: 'Checkbox',
                                    skin: 'ShadowCheckbox',
                                    position: {x: 0, y: 0},
                                    width: 25,
                                    height: 25
                                },
                                {
                                    id: 'radio1',
                                    text: 'Radio #1',
                                    component: 'ShadowRadio',
                                    skin: 'ShadowRadio',
                                    group: 'odd',
                                    position: {x: 0, y: 0},
                                    width: 25,
                                    height: 25
                                },
                                {
                                    id: 'chk2',
                                    text: 'Checkbox #2',
                                    component: 'Checkbox',
                                    skin: 'ShadowCheckbox',
                                    position: {x: 0, y: 0},
                                    width: 25,
                                    height: 25
                                },
                                {
                                    id: 'radio2',
                                    text: 'Radio #2',
                                    component: 'ShadowRadio',
                                    skin: 'ShadowRadio',
                                    group: 'odd',
                                    position: {x: 0, y: 0},
                                    width: 25,
                                    height: 25
                                },
                                {
                                    id: 'text1',
                                    component: 'Input',
                                    skin: 'ShadowInput',
                                    text: 'input here',
                                    position: {x: 0, y: 0},
                                    width: 150,
                                    height: 29
                                },
                                {
                                    id: 'btnDone',
                                    component: 'Button',
                                    skin: 'ShadowButton',
                                    text: 'Done',
                                    position: {x: 0, y: 0},
                                    width: 75,
                                    height: 29,
                                    font: {
                                        color: 'white'
                                    }
                                },
                                {
                                    id: 'mySlider',
                                    component: 'Slider',
                                    position: {x: 0, y: 0},
                                    slide: {
                                        component: 'Slide',
                                        width: 10,
                                        height: 10
                                    },
                                    width: 150,
                                    height: 5

                                },
                                {
                                    id: 'myLabel',
                                    text: 'none',
                                    component: 'Label',
                                    position: {x: 0, y: 0},
                                    width: 120,
                                    height: 29
                                },
                                {
                                    id: 'btnCancel',
                                    component: 'Button',
                                    skin: 'ShadowButton',
                                    text: 'Cancel',
                                    position: {x: 0, y: 0},
                                    width: 100,
                                    height: 29,
                                    font: {
                                        color: 'white'
                                    }
                                },
                                {
                                    id: 'btnSave',
                                    component: 'Button',
                                    skin: 'ShadowButton',
                                    text: 'Save',
                                    position: {x: 0, y: 0},
                                    width: 100,
                                    height: 29,
                                    font: {
                                        color: 'white'
                                    }
                                }
                            ]
                        }
                    ]
                };

        function loadTheme(theme) {
            PIXI.utils.textureCache = {};
            PIXI.utils.baseTextureCache = {};

            return EZGUI.Theme.load(['gui-themes/' + theme + '-theme/' + theme + '-theme.json'], function () {
                var guiContainer = EZGUI.create(avatarGuiObj, theme);

                EZGUI.components.btnSave.on('click', function (event) {
                    guiContainer.visible = false;
                });
                EZGUI.components.btnCancel.on('click', function (event) {
                    guiContainer.visible = false;
                });

                stage.addChild(guiContainer);
            });
        }

        function resize() {
            // Determine which screen dimension is most constrained
            var ratio = Math.min(window.innerWidth / width, window.innerHeight / height);

            // Scale the view appropriately to fill that dimension
            stage.scale.x = stage.scale.y = ratio;

            // Update the renderer dimensions
            renderer.resize(Math.ceil(width * ratio), Math.ceil(height * ratio));
        }

        function animate() {
            renderer.render(stage);
            requestAnimationFrame(animate);
        }

        function start() {
            // Create the canvas in which the game will show, and a
            // generic container for all the graphical objects
            renderer = PIXI.autoDetectRenderer(width, height, rendererOptions);
            renderer.backgroundColor = 0xCCDDFF;
            // Round the pixels
            //this.renderer.roundPixels = true;

            // Put the renderer on screen in the corner
            renderer.view.style.position = "absolute";
            renderer.view.style.top = "0px";
            renderer.view.style.left = "0px";

            // The stage is essentially a display list of all game objects
            // for Pixi to render; it's used in resize(), so it must exist
            stage = new PIXI.Container();

            // Actually place the renderer onto the page for display
            document.body.querySelector('.game-container').appendChild(renderer.view);
            if (resizable) {
                // Size the renderer to fill the screen
                resize();

                // Listen for and adapt to changes to the screen size, e.g.,
                // user changing the window or rotating their device
                window.addEventListener("resize", resize);
            }
            loadTheme('space');

            requestAnimationFrame(animate);
        }
    </script>
</head>
<body onload="start();">
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="game-container"></div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/3.0.7/pixi.js"></script>

<script src="js/lib/ui/Dialog.js"></script>

<script src="js/lib/Array.js"></script>
<script src="js/lib/CollisionDetector.js"></script>
<script src="js/lib/Grid.js"></script>
<script src="js/lib/Maze.js"></script>
<script src="js/lib/QuadTree.js"></script>
<script src="js/lib/RewardGraph.js"></script>
<script src="js/lib/Utility.js"></script>
<script src="js/lib/Vec.js"></script>
<script src="js/lib/Window.js"></script>

<script src="js/environments/World.js"></script>

<script src="js/lib/external/EZGUI.js"></script>

<link rel="import" href="/templates/twitch-nav.html">

</body>
</html>